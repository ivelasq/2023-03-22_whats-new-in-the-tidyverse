"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const state_1 = require("./state");
const tty_1 = require("./tty");
class Output {
    constructor() {
        this.output = [];
        this.write = jest.fn((text) => this.output.push(text));
        this.print = jest.fn((text) => this.output.push(text));
        this.println = jest.fn((text) => this.output.push(text));
    }
}
test("calculate position", () => {
    const orig = new state_1.Position(0, 0);
    const tty = new tty_1.Tty(80, 24, 8, new Output());
    expect(tty.calculatePosition("foo", orig)).toEqual(new state_1.Position(0, 3));
    expect(tty.calculatePosition("\x1b[1;32mfoo", orig)).toEqual(new state_1.Position(0, 3));
    expect(tty.calculatePosition("foo\nbar", orig)).toEqual(new state_1.Position(1, 3));
});
//# sourceMappingURL=tty.test.js.map